<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    function refrescar() {
      if (sessionStorage.getItem("contadorSesion") != null) {
        valor = sessionStorage.getItem("contadorSesion");
        valor++;
        sessionStorage.setItem("contadorSesion", valor);
      } else {
        sessionStorage.setItem("contadorSesion", 1);
      }
      document.getElementById("sesion").value = sessionStorage.getItem("contadorSesion");
    }
    function refrescarLocal() {
      if (localStorage.getItem("contadorLocal") != null) {
        valor = localStorage.getItem("contadorLocal");
        valor++;
        localStorage.setItem("contadorLocal", valor);
      } else {
        localStorage.setItem("contadorLocal", 1);
      }
    }

    function hola(){
      ventanaSecundaria.document.write("<input type='button'>");
    }
    function hola1(){
      ventanaSecundaria.document.write("<input type='text'>");
    }
    function abrirVentana() {
      ventanaSecundaria = window.open();



      ventanaSecundaria.document.write('contador de Local/total <input type="text" name="" id="local" disabled><br><br>');


      ventanaSecundaria.document.getElementById("local").value=localStorage.getItem("contadorLocal");
    }
    function refrescarTodo(){
      refrescar();
      refrescarLocal();
      abrirVentana();

    }

  </script>
</head>

<body>

  <input type="button" name="" id="boton" value="iniciar" onclick="refrescarTodo()"><br><br>
  contador de sesion:
  <input type="text" name="" id="sesion" disabled><br><br>
</body>
</html>
